---
title: "이벤트 루프에 관하여"
excerpt: " :computer: 프론트엔드 개발관련 공부내용을 기록하는 포스트 입니다."

categories:
  - front
tags:
  - F/E
  - Event Loop
toc: true
toc_sticky: true
toc_label: "POST LIST"
---

<hr>
:raising_hand:  ```프론트엔드 개발관련 공부내용을 기록하는 포스트 입니다.```
<hr>

#### 1. 개요

---

우리가 사용하는 자바스크립트 엔진은 단일 호출 스텍을 사용한다.

즉, 웹 브라우저에서 요청한 작업들을 동시에 하나만 처리할 수 있다는 개념이다.
그러나 우리는 웹 브라우저에서 여러가지 작업들이 동시에 동작하는 것, 동시성을 보장하는 것을 볼 수 있다.

실제 자바 스크립트가 구동되는 환경(브라우저, Node.js 등) 에서는 여러 스레드가 사용되며, `이벤트 루프` 라는 개념을 통해 이러한 구동 환경이 단일 호출 스텍을 사용하는 자바스크립트 엔진과 연동하게 된다.

##### 1-1. 브라우저 환경으로 보는 이벤트 루프

---

##### 브라우저 환경 도식도

---

![image](https://user-images.githubusercontent.com/56063287/147879023-73b99022-e8e1-4940-ae60-548625ee4aea.png)

위 그림을 해석해보면 다음과 같다.

**Javascript Engine 은 Heap, Call Stack 으로 나누어져 있고 이는 추후에 별도에 포스트로 기록할 예정이다.**

자바스크립트 엔진은 단일 호출 스택(Call Stack)을 사용하며, 요청이 들어올 때마다 해당 요청을 순차적으로 호출 스택에 담아 처리한다.

이때 위에서 우리가 말했던 동시성 보장은 이 자바스크립트 엔진을 구동하는 환경 즉, Browser 나 Node.js 가 담당한다.

위 그림에서 볼 수 있듯이 우리가 사용하는 다양한 함수들은 Web API 영역에 따로 정의 되어 있고 이벤트루프, Task Queue 의 경우도 자바스크립트 엔진과 별도로 분리 되어 있다.

#### 2. Call Stack 과 Run-to-Completion 방식

---

- Run-to-Completion : 하나의 함수가 실행되면 끝날 때까지는 어떤 작업도 끼어들지 못한다.

이러한 방식은 자바스크립트 엔진은 단일 호출 스택 즉, 하나의 호출 스택을 사용하며, 하나의 작업이 시작되어 스택에 쌓여 있으면 스택의 모든 작업들이 실행을 마치고 스택이 비워지기 전까지 어떠한 함수도 실행될 수 없다는 것을 의미한다.
